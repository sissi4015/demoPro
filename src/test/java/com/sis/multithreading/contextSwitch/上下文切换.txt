《Java并发编程的艺术》

第一章 并发编程的挑战

1.1 上下文切换

重点1：测试上下文切换的工具：
        Lmbench测试时间
        vmstat测试次数

重点2：减少上下文切换
        无锁并发编程：例：将ID按照HASH算法分段，不同线程处理不同段
        CAS算法：例：Java中的Atomic包
        使用最少线程：避免创建不需要的线程
        协程：在单线程里实现多任务的调度，并在单线程里维持多个任务间的切换

        例：减少线上大量WAITING状态的线程，来减少上下文切换次数
        1.使用jstat命令dump线程，看看某pid进程下的线程都在做什么
        2.统计线程都处于什么状态
        3.打开dump文件查看处于WAITING状态的线程都在做什么
        4.想办法减少多数WAITING状态的线程
